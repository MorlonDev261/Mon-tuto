<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Develeppement web pou telephone mobile</title>
  <link href="https://cdn.jsdelivr.net/npm/prismjs@1.28.0/themes/prism-tomorrow.css" rel="stylesheet">
<link href="styles.css" rel="stylesheet">
</head>
<body>
  <header>
    <h1>Tutoriel React, Redux & Vite</h1>
    <p>Guide d'installation et d'utilisation</p>
  </header>
  <div class="container" id="tutorial-container">
<div class="skeleton-container">
<div class="skeleton-app">
    <div class="sk-title"></div>
    <div class="sk-list-app">
        <div class="sk-app"></div>
        <div class="sk-app"></div>
        <div class="sk-app"></div>
    </div>
</div>
<div class="skeleton">
      <div class="skeleton-title"></div>
      <div class="skeleton-text"></div>
      <div class="skeleton-text skeleton-text-2"></div>
      <div class="skeleton-code"></div>
    </div>
</div>

<div class="outils">
    <h3 style="text-align: center;">‚úÖ Outils pour le developpement üöÄ</h3>
    <div class="App-list">
        <a href="/termux" class="dw-app">
            <img src="img/termux.png">
            <span class="title">Termux</span>
        </a>
        <a href="/kswebserver" class="dw-app">
            <img src="img/kswebserver.png">
            <span class="title">KS Web Server</span>
        </a>
        <a href="/trebEdit" class="dw-app">
            <img src="img/trebEdit.png">
            <span class="title">TrebEdit</span>
        </a>
    </div>
</div>
</div>

  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.28.0/prism.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", async () => {
      const container = document.getElementById("tutorial-container");
      const spinner = document.querySelector(".skeleton-container");
      const outils = document.querySelector(".outils");

      // Afficher le spinner pendant le chargement
      spinner.style.display = "block";

      // Cr√©er une promesse pour forcer un d√©lai d'attente minimum de 1.3s
      const minWait = new Promise(resolve => setTimeout(resolve, 1300));

      // Charger les donn√©es depuis le fichier tuto.json
      const response = await fetch("tuto.json");
      const sections = await response.json();

      // Attendre le d√©lai d'attente minimum et les donn√©es
      await minWait;

      // G√©n√©rer dynamiquement le contenu
      sections.forEach((section) => {
        const sectionElement = document.createElement("div");
        sectionElement.classList.add("section");

        let codeContent = "";

        if (section.codeBlocks.length > 1 && section.liste === true) {
          // Si plusieurs blocs de code et la cl√© "liste" est true, g√©n√©rer une liste ul
          codeContent = `
            <ul>
              ${section.codeBlocks
                .map(
                  (block) => `
                    <li>
                      <strong>${block.label || "Code"}</strong>
                      <div class="code-block">
                        <pre><code class="language-${block.language}">${escapeHTML(
                          block.code
                        )}</code></pre>
                        <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                      </div>
                    </li>
                  `
                )
                .join("")}
            </ul>
          `;
        } else {
          // Sinon, afficher les blocs individuellement
          codeContent = section.codeBlocks
            .map(
              (block) => `
                <strong>${block.label || ""}</strong>
                <div class="code-block">
                  <pre><code class="language-${block.language}">${escapeHTML(
                block.code
              )}</code></pre>
                  <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                </div>
              `
            )
            .join("");
        }

        sectionElement.innerHTML = `
          <h2>${section.title}</h2>
          <p>${section.description}</p>
          ${codeContent}
        `;

        container.appendChild(sectionElement);
      });

      // Masquer le spinner une fois le contenu charg√©
      spinner.style.display = "none";
      outils.style.display = "block";

      // Appliquer la coloration syntaxique
      Prism.highlightAll();
    });

    // Fonction pour copier le contenu du code
    function copyCode(button) {
      const codeElement = button.previousElementSibling;
      const textToCopy = codeElement.textContent || codeElement.innerText;

      const tempInput = document.createElement("textarea");
      document.body.appendChild(tempInput);
      tempInput.value = textToCopy;
      tempInput.select();
      document.execCommand("copy");
      document.body.removeChild(tempInput);

      button.textContent = "Copi√©!";
      setTimeout(() => (button.textContent = "Copier"), 1500);
    }

    // Fonction pour √©chapper les caract√®res sp√©ciaux dans le code
    function escapeHTML(str) {
      return str
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;");
    }
  </script>
</body>
</html>
